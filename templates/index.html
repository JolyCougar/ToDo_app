<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do App</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" type="text/css" media="all">
</head>
<body>
<div class="container">
    <header>
        <div class="header-info">
            <span id="dateDisplay"></span>
            <span id="taskCount">–ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏: <span id="incompleteCount">0</span></span>
        </div>
        <div class="header-buttons">
            <button class="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            <button class="add-task" id="addTaskButton">+</button>
        </div>
    </header>

    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</h2>
            <form id="taskForm" novalidate>
                {% csrf_token %}
                <input type="text" id="taskInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏" required>
                <textarea id="taskDescription" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏"></textarea>
                <button id="confirmAddTask" type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <main>
        <section>
            <h2>–ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏</h2>
            <ul class="task-list" id="taskList">
                {% for task in task_list %}
                    {% if not task.complete %}
                        <li class="task-item" data-task-id="{{ task.id }}">
                            <input type="checkbox" id="task{{ task.id }}">
                            <label for="task{{ task.id }}">{{ task.name }}</label>
                            <span class="task-details">
                                <span>{{ task.description }}</span>
                            </span>
                            <button class="delete-task" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É">üóëÔ∏è</button>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </section>

        <section>
            <h2>
                –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
                <button id="toggleCompletedList" aria-label="–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
            </h2>
            <ul class="completed-list" id="completedList">
                {% for task in task_list %}
                    {% if task.complete %}
                        <li class="completed-item" data-task-id="{{ task.id }}">
                            <span class="completed-label">{{ task.name }}</span>
                            <span class="completed-label">{{ task.description }}</span>
                            <button class="delete-task" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É">üóëÔ∏è</button>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </section>
    </main>
</div>

<div class="cookie-banner" id="cookieBanner">
    <p>–≠—Ç–æ—Ç —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookies –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.
        <button id="acceptCookies">–ü—Ä–∏–Ω—è—Ç—å</button>
    </p>
</div>

<script src="{% static 'js/scripts.js' %}"></script>
</body>
</html>
